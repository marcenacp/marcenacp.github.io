<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="Bias and Variance in Software Development"><meta property="og:description" content="An analysis of how DevOps can help for better product development."><meta property="og:type" content="article"><meta property="og:url" content="https://marcenacp.github.io/bias-and-variance-in-devops/"><meta property="article:section" content><meta property="article:published_time" content="2022-02-23T10:52:59+08:00"><meta property="article:modified_time" content="2022-02-23T10:52:59+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bias and Variance in Software Development"><meta name=twitter:description content="An analysis of how DevOps can help for better product development."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#262d33"><title>Pierre Marcenac - Bias and Variance in Software Development</title><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=/minima.1650975442.css><script defer type=text/javascript src=/minima.1650975442.js></script></head><script>let theme_2b_used=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";try{if(!("theme"in localStorage)){const e="system";(e==="dark"||e==="light")&&(theme_2b_used=e),localStorage.theme=theme_2b_used}document.querySelector("html").classList.add(localStorage.theme)}catch(e){console.error(e)}</script><body class="sm:mx-5 sm:my-0"><header class="flex justify-between items-center mb-6 sm:my-3"><div class="flex items-center"><div id=theme-switcher class="text-4xl cursor-pointer">pierre.marcenac</div></div><nav class="flex items-center
whitespace-nowrap overflow-x-auto overflow-y-hidden"><a class=ml-5 href=/>Home</a>
<a class=ml-5 href=/categories>Categories</a>
<a class=ml-5 href=/series>Series</a>
<a class=ml-5 href=/about>About</a></nav></header><h1 class="mt-6 mb-6">Bias and Variance in Software Development</h1><div class="mb-3 text-xs flex justify-between sm:flex-col"><div></div></div><main><p>An analysis of how DevOps can help for better product development.</p><article class=md><p>The bias-variance tradeoff is a well-known tradeoff in machine learning. It states you must find the balance between a biased artificial intelligence (AI) and a very unstable AI. You cannot achieve both simultaneously. I will draw in this post a similar parallel in product development in regards to DevOps.</p><p>Let&rsquo;s first recap dev&rsquo;s and ops&rsquo; respective main objectives.</p><blockquote><p><strong>Ops (aka operations)</strong></p><ul><li><p>Performance means maintaining a blazing-fast and reliable product.</p></li><li><p>Scalability means foreseeing drift in performance and anticipating performance issues to adapt to future usage.</p></li></ul></blockquote><blockquote><p><strong>Dev (aka development)</strong></p><ul><li><p>Producing more features means iterating fast and pushing frequent changes to production.</p></li><li><p>Shipping quality means no bug goes to production and the produced code is maintainable.</p></li></ul></blockquote><p>That is why dev&rsquo;s and ops&rsquo; interests are fundamentally opposed. DevOps intends to break with this antagonism to empower dev and ops teams with common objectives. However, this opposition is still a reality. In DevOps, this translates by the following competition:</p><ul><li><p>On the left side of the spectrum, devs dictate their rules. They want simple, maintainable brief code, which causes fewer bugs. It, however, results in low performance at scale.</p></li><li><p>On the very opposite side, only ops have the last words. They want high performance, so the code complexity increases. Such products are usually more prone to bugs, and devs struggle delving into the code.</p></li></ul><p>We could represent this dialectic by the following graph:</p><p><img src=/bias-variance.png alt=Image></p><h1 id=choosing-between-bias-and-variance>Choosing between bias and variance</h1><p>I defined bias and variance as follows:</p><ul><li><p><strong>Bias</strong> is the difference between the expected features and the true features of the product. It is directly linked to the perception the customer has of the product.</p></li><li><p><strong>Variance</strong> is a measure of the dispersion of the product. It is directly linked to code complexity, the variety of features, the factorization of the code, etc.</p></li></ul><p>It allows to differentiate 3 realms in the above graph:</p><ul><li><p>Startups have a very biased product (few features) and low variance (small product enveloppe). Both performance and product complexity can be low</p></li><li><p>Giants have products that cover all possible features with high performance. Costs of maintenance are extremly high.</p></li><li><p>Scaleups are in-between. They have to find the equilibrium between managing bias and variance.</p></li></ul><p>As a result, the tradeoff lies between product complexity (on the dev side) and performance (on the ops side).</p><h1 id=finding-the-perfect-balance>Finding the perfect balance</h1><p>There exist some solutions to this intrinsic problem.</p><h3 id=1-ops-must-provide-tools-to-test-the-code-against-performance>1. Ops must provide tools to test the code against performance</h3><p>Ops must advocate for performance and scalability constraints to be implemented in the code. It allows locking performant and scalable patterns by implementing them directly in the code. No deviation is allowed.</p><p>For instance, if you want your favorite ORM to avoid dangerous <code>SELECT *</code> in the code, you should embody this pattern in your code.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>type</span> <span class=nx>Options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span>: <span class=kt>Exclude</span><span class=p>&lt;</span><span class=nt>string</span><span class=err>,</span> <span class=err>&#34;*&#34;</span><span class=p>&gt;[],</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>User</span>:
</span></span><span class=line><span class=cl>  <span class=kt>findAll</span> <span class=o>=</span> <span class=p>(</span><span class=nx>options</span>: <span class=kt>Options</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>attributes</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=o>?</span><span class=nx>attributes</span> <span class=o>??</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=nx>orm</span><span class=p>.</span><span class=nx>query</span><span class=p>(</span><span class=sb>`SELECT </span><span class=si>${</span><span class=nx>attributes</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39;, &#39;</span><span class=p>)</span><span class=si>}</span><span class=sb> FROM users;`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Not allowed
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=k>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;*&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Allowed
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=k>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>attributes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>Such safeguard prevents developers from basic mistakes that operations already identified as dangerous in production scenarios.</p><h3 id=2-devs-have-to-abstract-performance-in-the-code>2. Devs have to abstract performance in the code</h3><p>As we saw, the quest towards performance will force developers to complexify their code, leading to increased code complexity. So it is paramount to properly architect the code to foresee those changes and encapsulate this complexity outside of the business logic.</p><p>For instance, if you manage items in an e-commerce setting, you probably want to avoid double-spending. Double-spending happens when one or more clients reach two times for the same product. A safeguard for this can be to manipulate lock entities on each product.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Lock</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>create</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>orm</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>uuid</span><span class=p>());</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>lock</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Lock</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>lock</span><span class=p>.</span><span class=nx>create</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>Here, adding a layer of abstraction allows swapping the implementation: maybe tomorrow, locks will be implemented as a Redis cache or as a column in a relation. So changing the code to:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>create</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>redis</span><span class=p>.</span><span class=nx>cache</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span> <span class=c1>// this line changed
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>will transparently change every occurrence of the code.</p><p>I am not saying devs should over-factorize code. However, in cases that operations already pinpointed as critical from a performance perspective, extracting the logic from the code can be an appropriate option to iterate faster towards to best, most performant solution. Such patterns split the concerns between business and performance logic.</p><h1 id=conclusion>Conclusion</h1><p>Thinking in terms of bias and variance is an interesting tool for product prioritization. Should you focus on reducing bias by producing more features or tackling variance by attacking technical debt? This is a question worth answering at every sprint, and it is a perpetual discussion to nurture between product, development, and operations.</p><p>Anyway, DevOps is now so deeply rooted in our way of thinking that it&rsquo;s almost history. Now it&rsquo;s all about DevSecOps, and security also adds up entropy to already complex projects.</p></article></main><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css integrity=sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js integrity=sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><footer class="mt-8 flex sm:flex-col-reverse justify-between items-center"><p class="mt-0 text-sm">© Pierre Marcenac | 2022 |
<a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a> on
<a href=https://github.com/mivinci/hugo-theme-minima target=_blank rel="noopener noreferrer">Minima</a></p><p class="flex items-center mt-0"><a class="icon mx-2" href=https://github.com/marcenacp title=github><svg fill="#63636f" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="icon mx-2" href=https://linkedin.com/in/pierre-marcenac title=linkedin><svg fill="#0073b1" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></a><a class="icon mx-2" href=https://twitter.com/marcenac title=twitter><svg fill="#1da1f2" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717.0-4.92 2.203-4.92 4.917.0.39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475.0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314.0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39.0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054.0 13.999-7.496 13.999-13.986.0-.209.0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg></a></p></footer></body></html>